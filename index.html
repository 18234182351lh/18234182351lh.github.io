<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试</title>
</head>
<body>
<div>测试使用</div>
</body>
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function (res) {
            navigator.serviceWorker.register('/sw.js', {scope: '/'})
                .then(function (registration) {
                    // 注册成功
                    alert('ServiceWorker registration successful with scope: '+registration.scope);
                })
                .catch(function (err) {
                    // 注册失败:(
                    alert('ServiceWorker registration failed: '+err);
                });
        });
    }
</script>
</html>
